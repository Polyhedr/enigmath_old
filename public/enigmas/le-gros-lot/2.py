import numpy as np

def J(S,p,c):
    return sum(c[S[i]]*(1 - sum(p[S[:i]])) for i in range(len(S)))/sum(p[S])

def optimal_strategy(p, c, n):
    order = np.argsort(-p/c)
    J_values = []
    for k in range(n):
        S = order[:k+1]
        J_values.append((J(S,p,c),S))
    J_opt, S_opt = min(J_values)
    return J_opt, S_opt

n = 100

p = np.array([
    0.00710623, 0.00413283, 0.00849038, 0.00822335, 0.01067269,
    0.01006182, 0.00144579, 0.0017939 , 0.0094656 , 0.00232344,
    0.00204926, 0.        , 0.00138449, 0.00556319, 0.00206143,
    0.        , 0.        , 0.00479916, 0.        , 0.        ,
    0.00940087, 0.00819726, 0.01408787, 0.00986389, 0.00705121,
    0.00710466, 0.009219  , 0.01365447, 0.00806681, 0.00919778,
    0.01522656, 0.0168779 , 0.01785582, 0.01872945, 0.01651353,
    0.01649871, 0.01083694, 0.01220166, 0.01132393, 0.01745626,
    0.01892118, 0.01657604, 0.01664315, 0.0158152 , 0.01810611,
    0.01774884, 0.01368326, 0.01732239, 0.01147137, 0.01394434,
    0.00624643, 0.00499297, 0.00814233, 0.00734853, 0.0127418 ,
    0.01142764, 0.01312612, 0.01043855, 0.01125843, 0.00560054,
    0.01719026, 0.01355098, 0.01216947, 0.01481042, 0.01594309,
    0.01813137, 0.00836498, 0.01495043, 0.01634219, 0.0091219 ,
    0.01447721, 0.01201847, 0.01156356, 0.00808543, 0.00649325,
    0.0099459 , 0.00725139, 0.01321795, 0.01504951, 0.01332466,
    0.00367928, 0.00338979, 0.00780954, 0.00909831, 0.01221079,
    0.00502451, 0.01245693, 0.00953705, 0.00316685, 0.00474482,
    0.01423495, 0.00683516, 0.0056664 , 0.0133458 , 0.00919483,
    0.01040229, 0.01117207, 0.0111454 , 0.00657364, 0.00781579])
    
c = np.array([
    0.63130104, 0.56263496, 0.60583358, 0.61347955, 0.62847238,
    0.56471462, 0.59810142, 0.56775415, 0.63595968, 0.58168552,
    0.72124287, 0.70925015, 0.74424832, 0.72173485, 0.68278937,
    0.70088118, 0.7295689 , 0.73810451, 0.76262451, 0.70812159,
    0.9955583 , 0.93923845, 0.93953618, 1.01383195, 1.01195795,
    0.97806329, 0.97489932, 0.94142746, 0.97362314, 0.96599846,
    0.23892097, 0.24531277, 0.28465395, 0.25744022, 0.21048498,
    0.21935477, 0.29602625, 0.2165602 , 0.23339493, 0.22058288,
    0.29069733, 0.25309897, 0.25847094, 0.33385684, 0.30967977,
    0.29942287, 0.27383582, 0.31358135, 0.29909066, 0.30447918,
    0.74512215, 0.78940189, 0.81717736, 0.79064375, 0.82609182,
    0.74383572, 0.81183109, 0.74202025, 0.81249634, 0.81090175,
    0.23704027, 0.22513036, 0.22963485, 0.25873413, 0.18113845,
    0.20531712, 0.18039346, 0.16676236, 0.25098528, 0.16510431,
    0.1777016 , 0.16465681, 0.18970901, 0.21730642, 0.20419822,
    0.21048861, 0.16149115, 0.16642746, 0.18080683, 0.18081711,
    0.16016021, 0.12865672, 0.10777411, 0.19073878, 0.15989937,
    0.15080329, 0.16159192, 0.15171408, 0.19052386, 0.17688598,
    0.95330452, 0.94840358, 0.91214702, 0.93137851, 0.9012103 ,
    0.95188041, 0.92656851, 0.99370568, 0.91058158, 0.92780834])
    
J_opt, S_opt = optimal_strategy(p, c, n)
print(S_opt)